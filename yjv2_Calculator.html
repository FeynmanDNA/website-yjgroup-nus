<!doctype html>
<html lang="en-sg">
  <!--customized html, css, js by Yang Kaiyuan from Yan Jie Group 2018-->
  <!-- mmmm   mm   m   mm  
       #   "m #"m  #   ##  
       #    # # #m #  #  # 
       #    # #  # #  #mm# 
       #mmm"  #   ## #    #-->

<head>
  <title>Yan Jie Group</title>
  <meta charset="UTF-8" />
  <meta name="description" content="Prof. Yan Jie's biophysics research group at NUS is proud to have an interdisciplinary team of physicists, life scientists, engineers, and programmers. We welcome collaboration with anyone who share our passion in mechnobiology." />
  <meta name="keywords" content="single-molecule studies, single molecule biophysics, mechanobiology, magnetic tweezers, biophysics, optical tweezers, atomic force microscope, afm, DNA, mechnosensitive proteins, Yan Jie" />
  <meta name="author" content="Yang Kaiyuan from Yan Jie Group" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="yjv2.css" />
  <link rel="shortcut icon" href="favicon.ico" />
<style>
  input {
    width: 80%;
    font-size: 16px; /* Increase font-size */
    padding: 12px 20px 12px 20px; /* Add some padding */
    border: 2px solid black;
    margin-bottom: 12px; /* Add some space below the input */
  }

  input:focus {
    border: 2px solid #6d8bad;
  }

  input[type="submit"]:disabled {
    color: lightgray;
    cursor:none;
    border: 2px solid lightgray;
  }

  input[type="submit"]:disabled:hover {
    background-color:white;
    color:lightgray;
    border: 2px solid lightgray;
  }
</style>
</head>

<body>
<!-- Sidebar -->
<nav class="sidebar bar-block collapse animate-left" id="mySidebar">
  <a class="bar-item button" href="yjv2_Photos.html" title="More lab photos"><img src="Side-barImgEq.jpg" alt="Lab Photos" /></a>
  <a class="bar-item button hide-large large" onclick="closeSidebar()">Close <span class="xbtn">&times;</span></a>
  <a class="bar-item button" href="index.html">Home</a>
  <div><!--Accordion button for Research-->
    <a class="bar-item button accordion">Research</a>
    <div class="accPanel">
      <a class="bar-item button" href="yjv2_Research_Questions.html">Questions</a>
      <a class="bar-item button" href="yjv2_Research_Hardware.html">Hardware</a>
    </div><!--end dropdown-->
  </div><!--end accordion-->
  <div><!--Accordion button for Group-->
    <a class="bar-item button accordion">Group</a>
    <div class="accPanel">
      <a class="bar-item button" href="yjv2_Group_CurrentMembers.html">Current Members</a>
      <a class="bar-item button" href="yjv2_Group_Alumni.html">Former Members</a>
    </div><!--end dropdown-->
  </div><!--end accordion-->
  <a class="bar-item button" href="yjv2_Publications.html">Publications</a>
  <a class="bar-item button current" href="yjv2_Calculator.html">Calculator</a>
  <a class="bar-item button" href="yjv2_Photos.html">Gallery</a>
  <a class="bar-item button" href="yjv2_Contact.html">Contact</a>
  <a class="bar-item button" href="yjv2_News.html">News</a>
</nav>

<!--Overlay for mobile sidebar closing-->
<div class="overlay animate-opacity" onclick="closeSidebar()" id="myOverlay"></div>

<!-- Page Content -->
<div class="main">

<div id="myTop" class="container top large">
  <div class="tristripe" onclick="openSidebar()">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
  </div><!--three stripe icon-->
  <span id="myIntro" class="hidebanner"><a href="index.html" title="Homepage">Yan Jie Group @ NUS</a></span>
</div><!--end top floating banner-->

<header class="container">
  <h1>Calculator</h1>
  <div id="calculatorAni" style="position:absolute" onmouseenter="calBtnMove()"></div>
</header>

<div class="container">

<h2>DNA Transfer Matrix Calculator</h2>

<p>The DNA transfer matrix calculator is based on the series of theoretical papers by Artem, Ricksen, and Yan Jie in our group. The implementation of the theory is published in <span class="pubtitle">Theoretical Methods for Studying DNA Structural Transitions under Applied Mechanical Constraints </span> <span class="pubauthor">AK Efremov, RS Winardhi, J Yan </span> <span class="pubjournal">Polymers </span> <span class="doi"><a href="https://doi.org/10.3390/polym9020074" title="doi" target="_blank">link</a></span>, and also in <span class="pubtitle">Transfer-matrix calculations of DNA polymer micromechanics under tension and torque constraints </span> <span class="pubauthor">AK Efremov, RS Winardhi, J Yan </span> <span class="pubjournal">Physical Review E </span> <span class="doi"><a href="https://doi.org/10.1103/PhysRevE.94.032404" title="doi" target="_blank">link</a></span>. Artem is currently working on a new paper that will include more protein interaction parameters, to be published in 2018.</p>

<hr />
<h2>README</h2>
<pre>Current Version: Feb 23rd 2018</pre>
<small>History: Feb 15th 2018, first version online; Feb 23rd 2018, introduction of new bare DNA states, now S-DNA is included in the transfer-matrix calculations, increasing the program working range to ~ 0-200 pN; and one more change - the program now outputs the DNA superhelical density instead of the linking number, which is more informative physical parameter characterizing the DNA state;</small>
<p>Contributors: Artem Efremov, Ladislav Hovan, Yang Kaiyuan, Olafs Vandans, Tang Qingnan, Lu Chen, Yan Jie</p>
<p>TransMatCal program calculates the <b>DNA extension, linking number and structural state under given force and torque constraints</b>. Please refer to Artem, Ricksen, and Yan Jie's 2016 PRE paper and 2017 Polymers paper for more information on the theory and algorithm.</p>
<div class="half">
  <img src="photos/calculator/Theory1.jpg" alt="Theory screenshot 1" />
</div>
<div class="half">
  <img src="photos/calculator/Theory2.jpg" alt="Theory screenshot 2" />
</div>

<p style="clear:both;">TransMatCal takes in 4 parameters:<span class="pubtitle"> DNA length, force, torque, and max mode.</span></p>

<p><span class="pubtitle">DNA length</span> is the contour length in B-DNA state in nm. The default size of individual DNA segment in the B-DNA state is 0.5 nm. The program accepts non-negative integers as input.</p>

  <i>DNA_length - DNA length in B-DNA state in [&gt;0nm] units:</i><br />
  <input type="number" id="DNAlength" name="DNAlength" step="1" placeholder=">0nm non-negative integer" onkeyup="checkRequirement()" onblur="checkRequirement()" /><br />

<p><span class="pubtitle">Force</span> is currently set to a floating point number between 0 to 200 pN. So now the calculator includes DNA overstretching transitions.</p>

  <i>Force - in [0~200pN] units:</i><br />
  <input type="number" id="force" name="force" step="any" placeholder="<200pN" onkeyup="checkRequirement()" onblur="checkRequirement()" /><br />

<p><span class="pubtitle">Torque</span> is currently set to a floating point number between -30 to +50 pN*nm.</p>

  <i>Torque - in [-30~+50pN*nm] units:</i><br />
  <input type="number" id="torque" name="torque" step="any" placeholder="-30~50pNnm" onkeyup="checkRequirement()" onblur="checkRequirement()" /><br />

<p><span class="pubtitle">Max mode</span> is the number of modes taken into account in the transfer matrix calculations. The current range implemented in our calculator is 10-20. The default number of 14 should be sufficient in most cases. Please note that lower max_mode will result in less precise calculation results, especially in the case of high force and torque applied to DNA. For example, in the case of 35-50 pN*nm torques, lower value of max_mode will lead to shift in theoretically predicted transition boundary between B- and P-DNA forms.</p>

  <i>max_mode - number of modes taken into account in the transfer matrix calculations:</i><br />
  <input type="number" id="maxMode" name="maxMode" step="1" placeholder="10-20" value="14" onkeyup="checkRequirement()" onblur="checkRequirement()" /><br />

  <input type="submit" id="calbtn" onclick="newCalwindow()" value="Calculate" class="sortbutton" disabled />

<hr />
<footer class="container">
  <p>Yan Jie Group @ NUS
  <br />
  <a href="http://www.nus.edu.sg/" title="NUS website" target="_blank">National University of Singapore (NUS)</a>
  <br />
  <a href="https://www.physics.nus.edu.sg/" title="NUS Physics website" target="_blank">Department of Physics</a> - <a href="https://mbi.nus.edu.sg/" title="NUS MBI website" target="_blank">Mechanobiology Institute</a> - <a href="https://cbis.nus.edu.sg" title="NUS CBIS website" target="_blank">Centre for BioImaging Sciences</a></p>
  <p><a href="mailto:kaiyuan@scholarscinema.com?Subject=YanJie%20Site%20Feedback" title="Website Feedback to Kaiyuan">Website</a> front-end upgraded Jan 2018, written in pure HTML, CSS, and JavaScript</p>
</footer>

</div><!--container-->
</div><!--main-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-48967212-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-48967212-2');
</script>
<script src="yjv2.js"></script>
<script>
function getFormValue(id) {
    return document.getElementById(id).value;
}

function newCalwindow() {
    var DNAlength = parseInt(getFormValue('DNAlength'));
    var force = parseFloat(getFormValue('force'));
    var torque = parseFloat(getFormValue('torque'));
    var maxMode = parseInt(getFormValue('maxMode'));
    var myWindow = window.open(
        "http://137.132.69.48:7717/jsontest?DNAlength=" + DNAlength + "&force=" + force + "&torque=" + torque + "&maxMode=" + maxMode, 
        "_blank",
        "toolbar=yes,scrollbars=yes,resizable=yes,top=10,left=10,width=700,height=620"
    );
}

function checkRequirement() {
    var DNA_length = parseInt(getFormValue('DNAlength'));
    var Force = parseFloat(getFormValue('force'));
    var Torque = parseFloat(getFormValue('torque'));
    var MaxMode = parseInt(getFormValue('maxMode'));
    var CalBtn = document.getElementById('calbtn');
    var isNumber = /^[0-9]+$/;
    CalBtn.disabled = !(
        getFormValue('DNAlength').match(isNumber) &&
        DNA_length >0 &&
        Force <200 &&
        Force >0 &&
        Torque <=50 &&
        Torque >=-30 &&
        getFormValue('maxMode').match(isNumber) &&
        MaxMode >=10 &&
        MaxMode <=20
    );
}
</script>
<noscript>Please enable JavaScript in your browser, or you can switch to a browser that supports JavaScript.</noscript>
</body>
</html>
